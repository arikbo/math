<!DOCTYPE html>
<html lang="he" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>תרגול פונקציה קווית</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; direction: rtl; }
        .correct { color: green; font-weight: bold; }
        .incorrect { color: red; font-weight: bold; }
    </style>
</head>
<body>
    <h1>תרגול פונקציה קווית</h1>
    <p id="question"></p>
    <input type="text" id="answer" placeholder="הזן את הפונקציה בפורמט y=mx+b">
    <button onclick="checkAnswer()">בדוק</button>
    <p id="result"></p>
    <button onclick="generateExercise()">תרגיל חדש</button>

    <script>
        let correctEquation = "";

        function generateExercise() {
            let type = Math.random() < 0.5 ? "slopePoint" : "parallel";
            let x1 = Math.floor(Math.random() * 10) - 5;
            let y1 = Math.floor(Math.random() * 10) - 5;
            let slope = Math.floor(Math.random() * 9) - 4;
            if (slope === 0) slope = 1;
            let b;
            
            if (type === "slopePoint") {
                b = y1 - slope * x1;
                correctEquation = `y=${slope}x+${b}`;
                document.getElementById("question").innerHTML = `מצא את הפונקציה העוברת דרך הנקודה (${x1}, ${y1}) עם שיפוע ${slope}`;
            } else {
                let randomB = Math.floor(Math.random() * 10) - 5;
                b = y1 - slope * x1;
                correctEquation = `y=${slope}x+${b}`;
                document.getElementById("question").innerHTML = `מצא את הפונקציה המקבילה לפונקציה y=${slope}x+${randomB} ועוברת דרך הנקודה (${x1}, ${y1})`;
            }
            document.getElementById("result").innerHTML = "";
        }

        function checkAnswer() {
            let userAnswer = document.getElementById("answer").value.replace(/\s+/g, "");
            if (userAnswer === correctEquation) {
                document.getElementById("result").innerHTML = "✔ תשובה נכונה";
                document.getElementById("result").className = "correct";
            } else {
                document.getElementById("result").innerHTML = `❌ תשובה שגויה. התשובה הנכונה היא: ${correctEquation}`;
                document.getElementById("result").className = "incorrect";
            }
        }

        generateExercise();
    </script>
</body>
</html>
